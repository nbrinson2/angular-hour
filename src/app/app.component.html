<mat-drawer-container
  class="drawer-container"
  [class.drawer-open]="drawer.opened"
>
  <!-- Sidenav / Drawer -->
  <mat-drawer
    #drawer
    mode="over"
    (backdropClick)="drawer.close()"
    class="drawer"
  >
    <mat-accordion>
      <mat-expansion-panel
        *ngFor="let category of categories"
        [expanded]="category.expanded"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>{{ category.title }}</mat-panel-title>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a
            mat-list-item
            *ngFor="let link of category.links"
            [routerLink]="link.path"
            routerLinkActive="active-link"
            (click)="drawer.close()"
          >
            {{ link.label }}
          </a>
        </mat-nav-list>
      </mat-expansion-panel>
    </mat-accordion>

    <!-- Auth controls for small screens -->
    <div class="drawer-auth-actions">
      <app-auth-controls> </app-auth-controls>
    </div>
  </mat-drawer>

  <!-- Main Content -->
  <mat-drawer-content>
    <!-- Header / Toolbar -->
    <header class="header-container">
      <div class="header-left">
        <button
          mat-icon-button
          (click)="drawer.toggle()"
          class="hamburger-button"
        >
          <mat-icon>menu</mat-icon>
        </button>
      </div>
      <div class="header-center">
        <h1>{{ title }}</h1>
      </div>
      <div class="header-right">
        <div class="auth-actions">
          <app-auth-controls> </app-auth-controls>
        </div>
      </div>
    </header>

    <!-- Main area / Router outlet -->
    <main class="main-container">
      <router-outlet></router-outlet>
    </main>
  </mat-drawer-content>
</mat-drawer-container>
